<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Хайч чулуу даавуу</title>
    <link rel="stylesheet" href="rock-paper-scissor.css">

  </head>
  <body>

    <center>
    <p class="title">Хайч чулуу даавуу</p>

    <button
      onclick="
        playGame('Rock');
      "class="move-button rock-button"
      ><img src="rock-emoji.png" alt="">
    </button>

    <button
      onclick="
        playGame('Paper');
      "class="move-button"><img src="paper-emoji.png" alt="">
    </button>

    <button
      onclick="
        playGame('Scissors');
      "class="move-button"><img src="scissors-emoji.png" alt="">
    </button>

    <p class="js-result"></p>
    <p class="js-moves"></p>

    <p class="js-score"></p>

    <BUTTON onclick="
    score.wins = 0;
    score.losses = 0;
    score.ties = 0;
    localStorage.removeItem('score')
    updateScoreElement();
    " class="reset-button-css">Reset Score
    </BUTTON>

    </center>


    <script>
      let score = (JSON.parse(localStorage.getItem('score'))) || {
      wins: 0,
      losses: 0,
      ties: 0
      };


      updateScoreElement();

      /*
            reset score hiih vyd localStorage iin score iig gargaj ireh code
            gehdee iluu towch deed taliinh |||(score ni localstorage iin codetoi 
            tentsu eswel wins 0 losses 0 ties 0 tei tentsu)|||

      if (!score)
      {
       score = {
        wins: 0,
        losses: 0,
        ties: 0
       };
      }
      */
      

      function playGame(playerMove) {
        const computerMove = pickComputerMove();

        let result = "";
        if (playerMove === "Scissors") 
        {
          if (computerMove === "Rock") {
            result = "Та хожигдлоо";
          } else if (computerMove === "Paper") {
            result = "Та яллаа";
          } else if (computerMove === "Scissors") {
            result = "Тэнцлээ";
          }
        } 
        
        
        else if (playerMove === "Paper") 
        {
          if (computerMove === "Rock") {
            result = "Та яллаа";
          } else if (computerMove === "Paper") {
            result = "Тэнцлээ";
          } else if (computerMove === "Scissors") {
            result = "Та хожигдлоо";
          }
        } 
        
        
        else if (playerMove === "Rock") 
        {
          if (computerMove === "Rock") {
            result = "Тэнцслээ";
          } else if (computerMove === "Paper") {
            result = "Та хожигдлоо";
          } else if (computerMove === "Scissors") {
            result = "Та яллаа";
          }
          
        }

        if (result === "Та яллаа")
        {
          score.wins = score.wins + 1;
        }
        else if (result ==="Та хожигдлоо")
        {
          score.losses += 1;
        }
        else if (result === "Тэнцлээ")
        {
          score.ties += 1;
        }

        localStorage.setItem('score', JSON.stringify(score));

        updateScoreElement();

        document.querySelector('.js-result').innerHTML = result;

        document.querySelector('.js-moves').innerHTML = `You <img src="hw/${playerMove}-emoji.png">  <img src="hw/${computerMove}-emoji.png"> Computer`;

        
      }
      function updateScoreElement() {
        document.querySelector('.js-score')
      .innerHTML = `Wins: ${score.wins} Loses: ${score.losses} Ties: ${score.ties}`;
      }

      function pickComputerMove() {
        const randomnumber = Math.random();
        let computerMove = "";

        if (randomnumber >= 0 && randomnumber < 1 / 3) {
          computerMove = "Rock";
        } else if (randomnumber >= 1 / 3 && randomnumber < 2 / 3) {
          computerMove = "Paper";
        } else if (randomnumber >= 2 / 3 && randomnumber < 1) {
          computerMove = "Scissors";
        }
        return computerMove;
      }
    </script>
  </body>
</html>
